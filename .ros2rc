#!/bin/bash

# https://zenn.dev/kenji_miyake/articles/c149cc1f17e168

ROS2_WS="ros2_ws"
ROS2_VER="foxy"

if [ -d /opt/ros/foxy ]; then
    ROS2_VER="foxy"
elif [ -d /opt/ros/eloquent ]; then
    ROS2_VER="eloquent"
elif [ -d /opt/ros/dashing ]; then
    ROS2_VER="dashing"
elif [ -d /opt/ros/galactic ]; then
    ROS2_VER="galactic"
fi

if [ -f /opt/ros/${ROS2_VER}/setup.bash ]; then
    source /opt/ros/${ROS2_VER}/setup.bash
fi

source /usr/share/colcon_argcomplete/hook/colcon-argcomplete.bash
export RCUTILS_CONSOLE_OUTPUT_FORMAT="[{severity} {time}] [{name}]: {message}"

#if [ -d ~/${ROS2_WS}/install ]; then
#    source ~/${ROS2_WS}/install/local_setup.bash && source ~/${ROS2_WS}/install/setup.bash
#fi

export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp
